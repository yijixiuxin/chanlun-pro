## 实盘

---


> 当前项目还处于不断完善的过程，其中核心的 cl.py 文件肯定会有变动，这样会导致之前回测的信号发生变化； 
> 
> 如果用于实盘，代码要与研究环境分开，避免因为代码更新，导致实盘信号与之前回测有偏差，导致亏损。

策略经过回测验证，满足自己要求，即可接入实盘进行交易；  
实盘的交易对像需要继承 `backtest_trader.Trader` 类   
实现其中的 `open_buy`/`open_sell`/`close_buy`/`close_sell` 交易方法即可

在 `src/chanlun/trader` 目录中，有写各个市场的默认交易类，可按需复制并修改为自己需要的

在 `script/trader` 目录中，有各个市场默认的实盘运行脚本，可按需复制并修改为自己需要的

### 　实盘运行脚本大体步骤如下：

1. 定义要实盘交易的标的代码
2. 定义获取的行情周期
3. 初始化交易对象 Trader
4. 初始化行情数据对象 MarketDatas
5. 从 redis 缓存中加载之前运行的实盘数据
6. 设置并初始化要运行的策略，并添加到交易对象
7. 无限循环，通过 seconds % (30 * 60) != 0 控制每次执行间隔